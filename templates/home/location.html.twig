{% extends 'base.html.twig' %}
{% block title %}Hello HomeController!{% endblock %}

{% block body %}
<style>
body {
        background:#e2e2e236
}
.second-col {
    padding-right: 15%;
    margin-top: 1%;
}
.custom {
    position: relative;
}
.custom::after {
    bottom: -15px;
    height: 6px;
    width: 21px;
    content: "";
    border-radius: 6px;
    position: absolute;
    left: 0;
    background-color:#f74356;
}
.prix {
    margin-bottom: 0;
    padding-top: 10px;
    font-size: 43px;
    color: #f74356;
}
.col-infos {
    border-radius: 5px;
    margin-left: -1px;
    margin-right: 3px;
    margin-top: 1px;
    border: 1px solid #ececec;
    height: 50px
}
.pika {
    line-height: 25px;
}
.col {
        border-right: 1px solid #eaeaea;
            text-align: center;
            line-height: 30px
}
sup {
    line-height: initial !important;
}
 @media(max-width: 768px){
     .col-infos {
         display: flex
     }
     .first-col {
         padding-left: 5%;
         padding-bottom: 7%
     }
     .second-col {
         padding-right: 0
     }
 }
</style>
<div class="columns" style="flex-wrap: wrap;margin-top: 1%">
        <div class="column is-12 is-offset-1 first-col">
            <h1 class="title custom">  
            {% if type == 'location' %}
             Biens à louer 
            {% elseif type =='En vente' %}
              Biens en vente 
            {% else %}
                Appartement en colocation
            {% endif %}
            </h1>
        </div>
        {% if houses.appartement is empty %}
            <div class="column is-12 is-offset-1" style="padding-right: 15%;margin-top: 1%;">
                <div class="columns" style="flex-wrap: wrap;padding: 1rem;background: #fff;border-radius: 8px;height: 400px">
                        <div class="column is-12" style="display: grid;text-align: center">
                            <h2 class="title" style="font-size: 25px"> Désolé aucun resultat ! </h2>

                        </div>
                        <div style="text-align: center;width: 100%;">
                           <a href="{{path('home')}}"><button class="button is-primary is-rounded" style="width: auto">Revenir à la page d'accueil</button></a>
                            
                        </div>
                    </div>
            </div>
        {% else %}
    {% for house in houses.appartement|reverse %}
        <div class="column is-12 is-offset-1 second-col">
           <div class="columns" style="flex-wrap: wrap;padding: 1rem;background: #fff;border-radius: 8px;">
                <div class="column is-6" style="display: grid">
                    <div  class="columns">
                        <div class="column is-12">
                            <a href="{{path('immo', {'title': house.slugs, 'id': house.id } )}}"><h2 class="title"> {{house.title}} </h2></a>
                            <p> {{house.ville}} </p>
                            <h3 class="title prix"> {{house.prix}} </h3>
                            <p> {{house.commentaire|truncate(215, true)}} </p>
                        </div>
                    </div>
                    

                    <div class="columns col-infos">
                        <div class="column is-4 pika">
                            <div class="col">
                                <i class="fas fa-chart-area"></i> <span> {{house.surface}} m<sup>2</sup></span>
                            </div>
                            
                        </div>
                        <div class="column is-4 pika">
                            <div class="col">
                                <i class="fas fa-bed"></i> {{house.chambres}}
                            </div>
                           
                        </div>
                        <div class="column is-4 pika">
                            <div style="text-align: center">
                                <i class="fas fa-bath"></i> {{house.douches}}
                            </div>
                            
                        </div>
                    </div>
                </div>
                {% if house.image.name %}
                   
                    <div class="column is-6">
                             <a href="{{path('immo', {'title': house.slugs, 'id': house.id } )}}"><div style="background: url('{{ vich_uploader_asset(house, 'imageFile') }}') center no-repeat;background-size: cover;height: 318px;border-radius: 5px"></div></a>
                        </div>
                    
                        {% else %}
                    <div class="column is-6">
                        <div style="background: url('../images/home.png') center no-repeat;background-size: 50%;height: 318px;border-radius: 5px 7px 0 0;background-color: #fff0fc;"></div>
                    </div>
                {% endif %}
           </div>
        </div>
    {% endfor %}
{% endif %}
</div>
{% endblock %}